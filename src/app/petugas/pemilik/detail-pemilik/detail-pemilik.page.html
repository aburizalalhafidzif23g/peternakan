<ion-header>
  <ion-toolbar color="light">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/petugas/pemilik" text=""></ion-back-button>
    </ion-buttons>
    <ion-title>Detail Pemilik</ion-title>
    
    <!-- Tombol Edit & Hapus -->
    <ion-buttons slot="end" *ngIf="pemilik">
      <ion-button (click)="goToEdit()">
        <ion-icon slot="icon-only" name="create-outline"></ion-icon>
      </ion-button>
      <ion-button (click)="deletePemilik()">
        <ion-icon slot="icon-only" name="trash-outline" color="danger"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="detail-pemilik-page">

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <ion-spinner name="crescent"></ion-spinner>
    <p>Memuat data pemilik...</p>
  </div>

  <!-- Content (Show when loaded) -->
  <div *ngIf="!isLoading && pemilik">
    
    <!-- Header Info -->
    <div class="pemilik-info">
      <h2>{{ pemilik.nama_peternak }}</h2>
      <p>NIK: {{ pemilik.nik }}</p>
    </div>

    <!-- Informasi Pemilik -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>Informasi Pemilik</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <div class="info-item">
          <p class="label">
            <ion-icon name="person-outline"></ion-icon>
            Jenis Kelamin
          </p>
          <p class="value">{{ pemilik.jenis_kelamin }}</p>
        </div>

        <div class="info-item">
          <p class="label">
            <ion-icon name="calendar-outline"></ion-icon>
            Tanggal Lahir
          </p>
          <p class="value">{{ formatDate(pemilik.tanggal_lahir) }}</p>
        </div>

        <div class="info-item">
          <p class="label">
            <ion-icon name="call-outline"></ion-icon>
            Nomor HP
          </p>
          <p class="value">{{ pemilik.no_telp }}</p>
        </div>

        <div class="info-item">
          <p class="label">
            <ion-icon name="location-outline"></ion-icon>
            Alamat
          </p>
          <p class="value">{{ pemilik.alamat }}</p>
        </div>

        <div class="info-item">
          <p class="label">
            <ion-icon name="map-outline"></ion-icon>
            Desa/Wilayah
          </p>
          <p class="value">{{ pemilik.wilayah?.nama_desa || '-' }}</p>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- Hewan Ternak (Coming Soon) -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>Hewan Ternak</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <div class="empty-state-small">
          <ion-icon name="paw-outline"></ion-icon>
          <p>Belum ada data ternak</p>
        </div>
        
        <!-- Nanti kalau udah ada API ternak -->
        <!-- <div class="hewan-item" *ngFor="let ternak of pemilik.ternak">
          <ion-icon name="paw-outline"></ion-icon>
          <div>
            <p class="nama-hewan">{{ ternak.nama }}</p>
            <p class="jenis-hewan">{{ ternak.jenis }}</p>
          </div>
        </div> -->
      </ion-card-content>
    </ion-card>

    <!-- Kandang (Coming Soon) -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>Kandang</ion-card-title>
      </ion-card-header>
      
      <ion-card-content>
        <div class="empty-state-small">
          <ion-icon name="home-outline"></ion-icon>
          <p>Belum ada data kandang</p>
        </div>
        
        <!-- Nanti kalau udah ada API kandang -->
        <!-- <div class="kandang-item" *ngFor="let kandang of pemilik.kandang">
          <ion-icon name="home-outline"></ion-icon>
          <p>{{ kandang.nama }}</p>
        </div> -->
      </ion-card-content>
    </ion-card>

  </div>

  <!-- Error State -->
  <div *ngIf="!isLoading && !pemilik" class="empty-state">
    <ion-icon name="alert-circle-outline"></ion-icon>
    <h3>Data Tidak Ditemukan</h3>
    <p>Data pemilik tidak dapat dimuat</p>
  </div>
  
</ion-content>