<ion-content [fullscreen]="true" class="ion-padding">
  
  <div class="container-forgot">
    
    <!-- Header Section -->
    <div class="container-h">
      <div class="header-icon">
        <ion-icon name="lock-open-outline"></ion-icon>
      </div>
      <h1 class="h1">Lupa Password?</h1>
      <p class="h3">Tidak masalah! Masukkan alamat email yang terdaftar dan kami akan mengirimkan tautan untuk mengatur ulang password Anda.</p>
    </div>

    <!-- Success Message -->
    <div class="allert success" *ngIf="successMessage">
      <div class="alert-icon">
        <ion-icon name="checkmark-circle-outline"></ion-icon>
      </div>
      <div class="alert-content">
        <strong>Berhasil!</strong>
        <p>{{ successMessage }}</p>
      </div>
    </div>

    <!-- Error Message -->
    <div class="allert error" *ngIf="errorMessage.length > 0">
      <div class="alert-icon">
        <ion-icon name="alert-circle-outline"></ion-icon>
      </div>
      <div class="alert-content">
        <strong>Terjadi Kesalahan</strong>
        <ul>
          <li *ngFor="let error of errorMessage">{{ error }}</li>
        </ul>
      </div>
    </div>

    <!-- Form Section -->
    <form (ngSubmit)="sendResetLink()">
      <div class="form-group">
        <label class="form-label">Alamat Email</label>
        <ion-item lines="none" class="custom-input" [class.input-error]="errorMessage.length > 0">
          <ion-icon name="mail-outline" slot="start"></ion-icon>
          <ion-input 
            type="email" 
            placeholder="nama@email.com" 
            [(ngModel)]="email" 
            name="email" 
            required>
          </ion-input>
        </ion-item>
        <small class="form-hint">Kami akan mengirim tautan reset password ke email ini</small>
      </div>

      <ion-button 
        expand="block" 
        class="btn-submit" 
        type="submit"
        [disabled]="isLoading">
        <span *ngIf="!isLoading">
          <ion-icon name="send-outline" slot="start"></ion-icon>
          KIRIM TAUTAN RESET
        </span>
        <span *ngIf="isLoading">
          <ion-spinner name="crescent"></ion-spinner>
          MENGIRIM...
        </span>
      </ion-button>

      <!-- Divider -->
      <div class="divider">
        <span>atau</span>
      </div>

      <!-- Back to Login -->
      <div class="back-to-login">
        <p>Ingat password Anda? <a (click)="backToLogin()" class="login-link">Kembali ke Login</a></p>
      </div>
    </form>        
  </div>

</ion-content>